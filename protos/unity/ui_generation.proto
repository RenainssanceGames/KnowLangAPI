syntax = "proto3";

package unity.ui_generation;

// Enum for tracking UI generation progress status
enum UIGenerationStatus {
  UIGENERATION_STATUS_UNSPECIFIED = 0;
  UIGENERATION_STATUS_ERROR = 1;
  UIGENERATION_STATUS_STARTING = 2;
  UIGENERATION_STATUS_GENERATING_FILENAME = 3;
  UIGENERATION_STATUS_GENERATING_UXML = 4;
  UIGENERATION_STATUS_GENERATING_USS = 5;
  UIGENERATION_STATUS_GENERATING_CSHARP = 6;
  UIGENERATION_STATUS_COMPLETE = 7;
}

// Request for UI generation
message UIGenerationRequest {
  string ui_description = 1;
  map<string, string> chat_config_override = 4;
}

// Streaming response for UI generation
message UIGenerationStreamResponse {
  optional string filename = 1;
  optional string uxml_content = 2;
  optional string uss_content = 3;
  optional string csharp_content = 4;
  string ui_description = 5;
  UIGenerationStatus status = 6;
  string progress_message = 7;
  optional string error_message = 8;
  bool is_complete = 9;
}

// Request for getting generation status
message GetGenerationStatusRequest {
  string request_id = 1;
}

// Response for generation status
message UIGenerationStatusResponse {
  string request_id = 1;
  UIGenerationStatus status = 2;
  string progress_message = 3;
  bool is_complete = 4;
  optional string error_message = 5;
}

// Request for canceling generation
message UIGenerationCancelRequest {
  string request_id = 1;
}

// Response for canceling generation
message UIGenerationCancelResponse {
  bool success = 1;
  string message = 2;
} 